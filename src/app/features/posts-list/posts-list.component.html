<div *ngIf="postsViewModel$ | async as pvm" class="posts-wrapper">
  <!-- Filter Input -->
  <div class="filter-container">
    <label>Filter by username</label>
    <input
      id="filterInput"
      type="text"
      [formControl]="userFilter"
      placeholder="e.g. Bret"
      class="filter-input"
    />
  </div>

  <!-- Posts List -->
  <div class="posts-list">
    <mat-card
      class="post-card"
      *ngFor="let post of pvm.posts"
      (click)="selectPost(post)"
      tabindex="0"
    >
      <mat-card-title>{{ post.title }}</mat-card-title>
      <mat-card-subtitle>User ID: {{ post.userId }}</mat-card-subtitle>
      <mat-card-content>{{ post.body }}</mat-card-content>
    </mat-card>
  </div>

  <!-- Pagination -->
  <div class="pagination">
    <button
      mat-raised-button
      (click)="prevPage()"
      [disabled]="pvm.currentPage === 0"
    >
      Previous
    </button>

    <span class="page-indicator">
      Page {{ pvm.currentPage + 1 }} / {{ pvm.totalPages }}
    </span>

    <button
      mat-raised-button
      (click)="nextPage(pvm.totalPages)"
      [disabled]="pvm.currentPage + 1 >= pvm.totalPages"
    >
      Next
    </button>
  </div>
</div>
